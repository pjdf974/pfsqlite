
var Pfsqlite = require("../classsqlite");

var sCr = "create table if not exists paysage (idx integer primary key autoincrement, nom text)";

var sIn = "insert into paysage values (null, 'ile');"+
		"insert into paysage values (null, 'rempart');"+
		"insert into paysage values (null, 'piton');"+
		"insert into paysage values (null, 'riviere');"+
		"insert into paysage values (null, 'ravine');"+
		"insert into paysage values (null, 'sentier');"+
		"insert into paysage values (null, 'volcan');"+
		"insert into paysage values (null, 'etang')";

var c = process.cwd();
var databasename = c+"/node_modules/pfsqlite/test/baseDonneeTest";
var direxe = c+"/node_modules/pfsqlite/sqlite_exe/sqlite3.exe";

var db = new Pfsqlite(databasename, direxe);

db.execute(sCr, function(error, result){
	//console.log("Cr√©ation de la base : ERREUR =", error, " -- RESULT =", result);
	if(error) throw(error);
	db.executescript(sIn, function(error, result){
		//console.log("Insertions dans la base : ERREUR =", error, " -- RESULT =", result);
		if(error)throw(error);
		// Afficher les enregistrements dont le nom contient la lettre 'a'
		db.execute("select * from paysage where nom like '%a%'", function(error, result){
			if(error)throw(error);
			console.log(result);
		});
	});
});



